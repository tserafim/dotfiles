---
- name: install zsh
  dnf:
    name: 
      - zsh
      - git
      - powerline
    state: present
  become: True

- name: clone oh-my-zsh
  git:
    repo: https://github.com/robbyrussell/oh-my-zsh.git
    dest: ~/.oh-my-zsh
    update: yes

- name: change user shell
  user:
    name: "{{ user }}"
    shell: /bin/zsh
  become: True

- name: clone powerlevel9k theme
# https://github.com/bhilburn/powerlevel9k
  git:
    repo: https://github.com/bhilburn/powerlevel9k.git
    dest: ~/.oh-my-zsh/custom/themes/powerlevel9k
    update: yes

- name: clone spaceship prompt
# https://github.com/denysdovhan/spaceship-prompt
  git:
    repo: https://github.com/denysdovhan/spaceship-prompt.git
    dest: ~/.oh-my-zsh/custom/themes/spaceship-prompt
    update: yes

# https://github.com/zsh-users/zsh-autosuggestions
- name: clone zsh-autosuggestions
  git:
    repo: https://github.com/zsh-users/zsh-autosuggestions.git
    dest: ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions
    update: yes

# https://github.com/zsh-users/zsh-syntax-highlighting.git
- name: clone zsh-syntax-highlighting
  git:
    repo: https://github.com/zsh-users/zsh-syntax-highlighting.git
    dest: ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting
    update: yes
